## 01. 절차형 SQL 작성하기

### 프로시저 (Procedure)

- 절차형 SQL을 활용하여 특정 기능을 수행할 수 있는 트렌젝션 언어
- 프로시저 호출을 통해 실행되며, 이를 통해 일련의 SQL 작업을 포함하는 데이터 조작어(DML)를 수행한다.
- 프로시저 구성 : 선언부(DECLARE), 시작/종료부(BEGIN/END), 제어부(CONTROL), SQL, 예외부(EXCEPTION), 실행부(TRANSACTION)   
  **(디비컨 SET)**

 > 💡 실행부 (Transaction)
 > - commit : 하나의 트렌젝션이 성공적으로 끝나고, 데이터베이스가 일관성 있는 상태에 있을 때 하나의 트렌젝션이 끝났을 때 사용하는 연산.
 > - rollback : 하나의 트렌젝션이 비정상적으로 종료되어 트렌젝션 원자성이 깨질 경우 처음부터 다시 시작하거나, 부분적으로 연산을 취소하는 연산.

### 사용자 정의 함수

- 절차형 SQL을 활용하여 일련의 SQL 처리를 수행하고, 수행 결과를 단일 값으로 반환할 수 있는 절차형 SQL.
- DBMS에서 제공되는 공통적 함수 이외에 사용자가 직접 정의하고 작성한다.
- 반환 부분만 프로시저와 다름
- 호출을 통해 실행됨. 반환되는 단일 값을 조회 또는 삽입, 수정 작업에 이용하는 것이 일반적이다.
- 종료 시 단일 값을 반환한다는 것이 프로시저와 가장 큰 차이점.
- 사용자 정의함수 구성 : 선언부(DECLARE), 시작/종료부(BEGIN/END), 제어부(CONTROL), SQL, 예외부(EXCEPTION), 반환부(RETURN)   
  **(디비컨 SER)**

반환부 (Return)
- RETURN 명령을 통해 사용자 정의함수 종료 시 사용자 정의 함수를 호출한 쿼리에 반환하는 단일값을 정의한다.

### 트리거 (Trigger)

- 데이터 변경 이벤트가 발생하면 DBMS에서 자동적으로 실행되도록 구현된 프로그램
- 특정 테이블에 대한 데이터 변경과 관련된 작업을 자동적으로 수행하기 위해 트리거 사용.
- 일반적으로 이벤트와 관련된 테이블의 데이터 삽입, 추가, 삭제 작업을 자동으로 실행시키는 데 사용함.
- 데이터 무결성 유지 및 로그 메시지 출력 등의 별도 처리를 위해 사용
- 반환 값이 없다는 점, DML을 주된 목적으로 한다는 점에서 프로시저와 유사
- EVENT 명령어를 통해 트리거 실행을 위한 이벤트를 인지한다는 점, 외부 변수 IN/OUT이 없다는 점은 프로시저나 사용자 정의 함수와 다르다.
- 트리거의 구성 : 선언부(DECLARE), 이벤트부(EVENT), 시작/종료부(BEGIN/END), 제어부(CONTROL), SQL, 예외부(EXCEPTION)   
  **(디이비컨 SE)**
   

 > 💡 이벤트 (Event)
 > - 트리거가 실행되는 타이밍. 이벤트를 명시하는 부분.


<br>


## 02. 응용 SQL 작성하기

### 데이터 분석 함수의 종류

1. 집계함수
    - 여러 행 또는 테이블 전체 행으로부터 하나의 결괏값을 반환하는 함수
    - MAX, SUM, MIN 등
    - GROUP BY, HAVING 구문

2. 그룹함수
    - 테이블의 전체 행을 하나 이상의 컬럼을 기준으로 컬럼 값에 따라 그룹화하여 그룹별로 결과를 출력하는 함수.
    - 중간 합계 분석 데이터를 산출하는 함수.
    - ROLLUP, CUBE, GROUPING, SETS 등

3. 윈도함수(= OLAP 함수)
    - 데이터베이스를 사용한 온라인 분석 처리 용도로 사용하기 위해서 표준 SQL에 추가된 기능
   

 > 💡 OLAP (OnLine Analytical Processing)
 > - 의사결정 지원 세스템으로, 사용자가 동일한 데이터를 여러 기준을 이용하는 다양한 방식으로 바라보면서 다차원 데이터 분석을 할 수 있도록 도와주는 기술이다.

### API

- 애플리케이션을 만들기 위한 하위 함수, 프로토콜, 도구들의 집합으로 명확하게 정의된 다양한 컴포넌트간의 통신 방법이다.

### Mybatis

- Mybatis는 SQL Mapping 기반 오픈 소스 Access Framework로, DBMS에 질의하기 위한 SQL 쿼리를 별도의 XML 파일로 분리하고, Mapping을 통해서 SQ을 실행한다.
- DBMS 의존도가 높고 SQL 질의 언어를 사용하기 때문에 SQL 친화적인 국내 실무 개발 환경에 맞아서 많이 사용된다.

### DCL (Data Control Language)

- 데이터베이스 관리자(DBA)가 데이터 보안, 무결성 유지, 병행 제어, 회복을 위해 사용하는 제어용 언어.
- GRANT (사용 권한 부여) **(그온투위)**

  **GRANT** 권한 **ON** 테이블 **TO** 사용자  [**WITH** 권한 옵션];

- REVOKE (사용 권한 취소) **(리온프캐)**

  **REVOKE** 권한 **ON** 테이블 **FROM** 사용자 [**CASCADE** **CONSTRAINTS**];