# 🖥 Section 9. 파일 시스템

## 📍 파일과 파일시스템
- 운영체제가 파일을 관리하기 위해 파일 관리자를 둔 것을 파일 시스템이라고 함.
- 파일 테이블을 이용해 파일 관리 
1. 파일 시스템의 기능
    - 파일과 디렉토리의 생성/수정/삭제
    - 파일 권한 관리 (다중 사용자 기능을 위해 꼭 필요)
    - 무결성 보장
    - 백업과 복구
    - 암호화
2. 파일 시스템의 전송 단위 = 블록
    - 파일 관리자가 byte 단위로 사용자가 읽을 수 있도록 관리해줌.
    - 확장자를 통해 어떤 성격의 파일인지 파악 가능하며 사용 가능한 프로그램과 연결해줌 ex) exe, jpg, avi 등
3. File Control Block (File Descriptor)
    - 파일을 관리하기 위해 정보를 보관하는 블록.
    - 파일시스템이 관리하며 사용자가 직접 참조 불가능.
    
3. 순차 파일 구조
    - 모든 데이터가 순서대로 기록됨. 공간의 낭비가 없고 구조가 단순함.
    - 탐색하는데 시간이 오래 걸림.
    
4. 직접 파일 구조
    - 해시 테이블 방식, json 방식
    - 해시 함수를 이용하기 때문에 데이터 접근이 빠름.
    - 저장공간이 낭비될 수 있음.
    
5. 인덱스 파일 접근
    - 순차, 직접 파일 구조의 장점 취합
    - 인덱스 테이블로 파일에 접근하는 것.
    
<br>

## 📍 디렉토리
- 관련있는 파일을 모아둘 수 있는 공간.
- 여러 계층으로 이루어져 있으며 최상계층을 루트 디렉토리라고 함. / 로 구분.
- 디렉토리도 파일의 일종이며, 파일의 정보가 저장되어 있음.
- 바로가기 기능을 사용하면 순환이 있는 트리구조로 사용 가능

<br>

## 📍 파일과 디스크
- 파일 시스템은 파일 정보를 파일 테이블로 관리하며,하나의 파일은 여러개의 블록으로 이루어져 있음.
- 연속 할당 : 파일을 연속적인 블록을 할당하여 저장. 파일의 시작 블록만 알면 파일의 전체를 찾을 수 있음.
  외부단편화 발생 가능성이 있으므로 사용하지 않음.
- 불연속 할당 : 데이터를 분산하여 저장하는 방식. 연결 할당 / 인덱스 할당 존재.
    - 연결 할당 : 파일 테이블에는 시작 위치만을 저장하고 나머지는 연결 리스트를 이용해 다른 블록에 접근하는 방식
    - 인덱스 할당 : 테이블의 블록 포인터가 데이터의 인덱스 블록을 연결하는 것. 
    파일 크기가 작다면 데이터를 바로 참조하는 블록 포인터를 이용하고, 파일의 크기가 크다면 간접 포인터를 사용해 많은 데이터에 접근 가능.
      i-node라는 이름으로 유닉스와 리눅스에서 많이 사용되고 있는 방법. 내부 단편화가 발생할 수 있음.
      효율적인 관리를 위해 free block liat를 가지고 있어 free block list를 통해 빈 공간을 쉽게 관리할 수 있으며, 복구도 쉽게 할 수 있음.